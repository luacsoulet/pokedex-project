import{j as t,m as w,p as C,c as U,r as c,d as N,i as _,o as I,L as F,a as R,b as B}from"../chunks/chunk-BwIAFvK8.js";import{u as M}from"../chunks/chunk-CN62VPwh.js";import{P as V,F as O,f as Z,r as b}from"../chunks/chunk-DadAjXvZ.js";/* empty css                      */import"../chunks/chunk-25N4ygma.js";/* empty css                      *//* empty css                      *//* empty css                      */import"../chunks/chunk-DpUred2z.js";const E=()=>t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsx("div",{className:"flex gap-4",children:[...Array(4)].map((r,o)=>t.jsx(w.div,{initial:{y:0,rotateZ:0},animate:{y:[-10,0],rotateZ:[0,360]},transition:{y:{duration:.5,repeat:1/0,repeatType:"reverse",ease:"easeOut",delay:o*.15},rotateZ:{duration:1.5,repeat:1/0,ease:"linear"}},style:{display:"flex",alignItems:"center",justifyContent:"center",transformStyle:"preserve-3d"},children:t.jsx("img",{src:C,alt:"Loading...",className:"w-8 h-8 object-contain"})},o))})}),H=({data:e,isLoading:r,hasFilters:o=!1,setIsLoading:p})=>{const{dispatch:f}=U(),l=Array.isArray(e)?e:(e==null?void 0:e.pokemonList)||[],n=s=>{f({type:"ADD",payload:{id:s.id,slug:s.slug,isShiny:!1,isFemale:!1}})};return t.jsx("div",{className:"flex justify-center w-[80vw]",children:r&&l.length===0?t.jsx(E,{}):t.jsx("div",{className:"flex flex-wrap gap-4 w-full justify-center",children:(l==null?void 0:l.length)>0?l.map((s,d)=>{var a,h;return s&&s.id&&t.jsxs("div",{className:"relative",children:[t.jsx("a",{href:`/pokemon/${s.slug}`,children:t.jsx(V,{name:s.name,image:(h=(a=s.sprites)==null?void 0:a.normal)==null?void 0:h.male,id:s.id,slug:s.slug})}),t.jsx(w.button,{onClick:y=>{y.preventDefault(),n(s)},whileHover:{scale:1.2},whileTap:{scale:.9},transition:{type:"spring",stiffness:400,damping:17},className:"absolute -top-2 -right-2 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-lg leading-none shadow-lg hover:bg-blue-500 transition-colors z-10",children:t.jsx(O,{icon:Z})})]},d)}):t.jsx("p",{children:"No results found"})})})},L=(...e)=>b("/pages/index/SearchPokemon.telefunc.ts","SearchPokemon",e);L._key="/pages/index/SearchPokemon.telefunc.ts:SearchPokemon";const A=(...e)=>b("/pages/index/SearchPokemon.telefunc.ts","getTypes",e);A._key="/pages/index/SearchPokemon.telefunc.ts:getTypes";const z=(...e)=>b("/pages/index/SearchPokemon.telefunc.ts","fetchMorePokemon",e);z._key="/pages/index/SearchPokemon.telefunc.ts:fetchMorePokemon";const G=({value:e,onChange:r,placeholder:o="Rechercher un Pokémon",types:p,selectedType:f,onTypeChange:l,onReset:n})=>{const s=d=>{const a=d.target.value.toLowerCase();a===""?n():r(a)};return t.jsxs("div",{className:"flex gap-4 items-center",children:[t.jsx("input",{type:"text",value:e,onChange:s,placeholder:o,className:"px-4 py-2 border border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-lg w-[210px] bg-gray-800 text-white placeholder-gray-400"}),e.length>0&&t.jsxs("select",{value:f,onChange:l,className:"px-4 py-2 border border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-lg bg-gray-800 text-white",children:[t.jsx("option",{value:"",children:"Type"}),p.map((d,a)=>t.jsx("option",{value:d.slug,children:d.name},a))]}),e.length>0&&f&&t.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors shadow-lg",children:"Réinitialiser"})]})},$=({children:e})=>t.jsx(w.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},className:"text-4xl font-bold text-center my-8 text-transparent bg-clip-text bg-gradient-to-r from-white to-white/60",children:e}),q=({isLoading:e,isContextLoading:r,searchTerm:o,selectedType:p,pokemonList:f,setPokemonList:l,fetchMore:n,pageSize:s,maxItems:d=1024})=>{const[a,h]=c.useState(e),y=c.useCallback(async()=>{if(a||r||o||p||f.length>=d)return;const u=document.getElementById("page-container");if(!u)return;const{scrollHeight:i,scrollTop:T,clientHeight:P}=u;if(i-T-P<=200){h(!0);try{const S=f.length,x=await n(S+1,s);(x==null?void 0:x.length)>0&&l(v=>{const g=[...v];return x.forEach(m=>{g.some(j=>j.id===m.id)||g.push(m)}),g})}catch(S){console.error("Erreur lors du chargement:",S)}finally{h(!1)}}},[a,r,o,p,f.length]);return c.useEffect(()=>{const u=document.getElementById("page-container");if(!u)return;const i=()=>{!a&&!r&&y()};return u.addEventListener("scroll",i),()=>u.removeEventListener("scroll",i)},[y,a,r]),{loading:a}};function J(){const e=M(),{pokemonList:r,setPokemonList:o,isContextLoading:p,setIsContextLoading:f}=N(),[l,n]=c.useState([]),[s,d]=c.useState([]),[a,h]=c.useState(""),[y,u]=c.useState(!1),[i,T]=c.useState(""),P=60;c.useEffect(()=>{r.length>0?n(r):e.pokemonList&&(o(e.pokemonList),n(e.pokemonList))},[e.pokemonList,r,o]),c.useEffect(()=>{(async()=>{u(!0);try{if(i){const m=await L(i);n(a&&a!=="Select a type"?m.filter(j=>{var k;return(k=j.types)==null?void 0:k.some(D=>D.slug===a)}):m)}else n(e.pokemonList)}catch(m){console.error("Erreur lors de la recherche ou du filtrage:",m),n([])}finally{u(!1)}})()},[i,a,e.pokemonList]);const S=g=>{h(g.target.value)};c.useEffect(()=>{A().then(g=>d(g))},[]);const x=()=>{h(""),n(e.pokemonList),T("")},{loading:v}=q({isLoading:y,isContextLoading:p,searchTerm:i,selectedType:a,pokemonList:r,setPokemonList:o,fetchMore:z,pageSize:P});return t.jsxs("div",{className:"flex flex-col gap-4 justify-right items-center",children:[t.jsx($,{children:"Pokédex"}),t.jsx(G,{value:i,onChange:T,types:s,selectedType:a,onTypeChange:S,onReset:x}),t.jsx(H,{data:i?l:r,isLoading:v||p,hasFilters:!!(i||a),setIsLoading:u}),(v||p)&&t.jsx(E,{})]})}const K=Object.freeze(Object.defineProperty({__proto__:null,default:J},Symbol.toStringTag,{value:"Module"})),ne={isClientRuntimeLoaded:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!0}},onBeforeRenderEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},dataEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:{server:!0}}},Loading:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/__internal/integration/Loading",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:_}},onRenderClient:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/__internal/integration/onRenderClient",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:I}},hydrationCanBeAborted:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/config",fileExportPathToShowToUser:["default","hydrationCanBeAborted"]},valueSerialized:{type:"js-serialized",value:!0}},Layout:{type:"cumulative",definedAtData:[{filePathToShowToUser:"/layouts/LayoutDefault.tsx",fileExportPathToShowToUser:[]}],valueSerialized:[{type:"pointer-import",value:F}]},title:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+config.ts",fileExportPathToShowToUser:["default","title"]},valueSerialized:{type:"js-serialized",value:"My Vike App"}},onPageTransitionEnd:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+onPageTransitionEnd.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:R}},onPageTransitionStart:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+onPageTransitionStart.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:B}},Page:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/index/+Page.tsx",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:K}}};export{ne as configValuesSerialized};
